/* ==========================================================================
   Capital Framework
   Media queries
   ========================================================================== */


/* topdoc
  name: Media query mixins
  family: cf-core
  notes:
    - "These mixins allow us to write consistent media queries using pixel
      values, which are easier to remember. The mixins handle converting the
      pixels into em's."
  patterns:
    - name: "min-width/max-width media queries"
      codenotes:
        - ".respond-to-min(@bp, @rules)"
        - ".respond-to-max(@bp, @rules)"
      notes:
        - "@bp: the breakpoint size in pixels. It will get converted into em's."
        - "@rules: a CSS or Less ruleset. Note that it can contain the full set
          of Less features."
    - name: "min-width/max-width media query usage"
      codenotes:
        - |
            .respond-to-min(768px, {
                .title {
                    font-size: 2em;
                }
            });

            Compiles to:

            @media only all and (min-width: 48em) {
                .title {
                    font-size: 2em;
                }
            }
    - name: "min-width/max-width media query range"
      codenotes:
        - ".respond-to-range(@bp1, @bp2, @rules)"
      notes:
        - "@bp1: the min-width breakpoint size in pixels.
          It will get converted into em's."
        - "@bp2: the max-width breakpoint size in pixels.
          It will get converted into em's."
        - "@rules: a CSS or Less ruleset. Note that it can contain the full set
          of Less features."
    - name: "min-width/max-width media query range usage"
      codenotes:
        - |
            .respond-to-range(320px, 768px, {
                .title {
                    font-size: 2em;
                }
            });

            Compiles to:

            @media only all and (min-width: 20em) and (max-width: 48em) {
                .title {
                    font-size: 2em;
                }
            }
  tags:
    - cf-core
*/

.respond-to-min(@bp, @rules) {
    @ems: unit((@bp / @base-font-size-px), em);
    @media only all and (min-width: @ems) {
        @rules();
    }
}

.respond-to-max(@bp, @rules) {
    @ems: unit((@bp / @base-font-size-px), em);
    @media only all and (max-width: @ems) {
        @rules();
    }
}

.respond-to-range(@bp1, @bp2, @rules) {
    @ems1: unit((@bp1 / @base-font-size-px), em);
    @ems2: unit((@bp2 / @base-font-size-px), em);
    @media only all and (min-width: @ems1) and (max-width: @ems2) {
        @rules();
    }
}


/* topdoc
    name: EOF
    eof: true
*/
